@model UserUpdateViewModel
@{
    ViewData["Title"] = "UpdateUser";
    // Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    label {
        font-size: 16px;
        font-weight: 400;
    }

    
</style>

<div class="card">
    <div class="card-body">
        @if(ViewData["success"]!=null)
        {
            <div class="row col-12 alert alert-success" >
                عملیات با موفقیت انجام شد
            </div>
        }
        <div class="row gutters">
            <form asp-action="EditProfile" asp-controller="Account"
                  asp-antiforgery="true"  enctype="multipart/form-data" 
                  method="post" class="col-12">
                <div class="col-12" asp-validation-summary="ModelOnly">

                </div>
                <input asp-for="@Model.Id" hidden />



                <div class="col-md-8 col-lg-7 col-xl-12 col-sm-12 col-12">
                    <div class="col-xl-4 col-lg col-md-4 col-sm-4 col-12">
                        <label asp-for="@Model.Email"></label>
                        <input class="form-control" type="text" asp-for="@Model.Email" placeholder="ایمیل را وارد کنید" />
                        <span asp-validation-for="Email" class="validation"></span>
                    </div>

                    <div class="col-xl-4 col-lg col-md-4 col-sm-4 col-12">
                        <label asp-for="@Model.PersianName"></label>
                        <input class="form-control" type="text" asp-for="@Model.PersianName" placeholder="نام کاربری برای خود وارد کنید" />
                        <span asp-validation-for="PersianName" class="validation"></span>
                    </div>

                    <div class="col-xl-4 col-lg col-md-4 col-sm-4 col-12">
                        <label asp-for="@Model.PhoneNumber"></label>
                        <input class="form-control" type="text" asp-for="@Model.PhoneNumber" placeholder="شماره موبایل خود را وارد کنید" />
                        <span asp-validation-for="PhoneNumber" class="validation"></span>
                    </div>


                    <div class="col-xl-4 col-lg col-md-4 col-sm-4 col-12">
                        <label asp-for="@Model.AboutMe"></label>
                        <textarea class="form-control" type="text" asp-for="AboutMe" placeholder="متنی درباره خودتان وارد کنید" style="min-height:200px;"></textarea>
                        <span asp-validation-for="AboutMe" class="validation"></span>
                    </div>

                </div>

                <div class="col-md-4 col-lg-5 col-xl-12 col-sm-12 col-12">
                    <div class="col-6">
                        <div class="form-group">
                            <label asp-for="ProfileImage" class="control-label"></label>
                            <div class="custom-file">
                                <input asp-for="ProfileImage" class="custom-file-input">
                                <label class="custom-file-label" for="ProfileImage">انتخاب یک تصویر</label>
                            </div>
                            <span asp-validation-for="ProfileImage" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-6">
                        <img style="height:150px;" src="@Model.ProfileImageUrl" id="PImage"/>
                    </div>
                </div>

              

                <div class="col-xl-4 col-lg col-md-4 col-sm-4 col-12">
                    <input style="margin-top:40px;" class="btn btn-success btn-block" type="submit" value="ثبت" />
                </div>

            </form>


        </div>
    </div>
</div>

@section scripts{ 
<script>
    document.getElementById("ProfileImage").onchange = function () {
    var reader = new FileReader();

    reader.onload = function (e) {
        // get loaded data and render thumbnail.
        document.getElementById("PImage").src = e.target.result;
    };

    // read the image file as a data URL.
    reader.readAsDataURL(this.files[0]);
};

</script>

}

